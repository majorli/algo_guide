.. index:: 【仪仗队】, 〖洛谷P2158〗, 〖SDOI2008〗

互质对：仪仗队（洛谷P2158，SDOI2008）
=====================================

**题目描述**

作为体育委员，C君负责这次运动会仪仗队的训练。仪仗队是由学生组成的 :math:`N\times N` 的方阵，为了保证队伍在行进中整齐划一，C君会跟在仪仗队的左后方，根据其视线所及的学生人数来判断队伍是否整齐(如下图)。

.. image:: ../images/701_p2158_pro.png


现在，C君希望你告诉他队伍整齐时能看到的学生人数。

**输入格式**

共一个数 :math:`N`

**输出格式**

共一个数，即C君应看到的学生人数。

**输入输出样例**

输入：

.. code-block:: none

   4

输出：

.. code-block:: none

   9


**说明/提示**

【数据规模和约定】

对于 :math:`100%` 的数据，:math:`1 \le N \le 40000`


**题意分析**

对示例图中建立坐标系，以C君所在位置为坐标原点 :math:`(0,0)`，其余每位学生所在位置的横纵坐标值都用自然数 :math:`0,1,\dots,n-1` 依次表示，即所谓的格点位置。除C君以外，一共有 :math:`N^2-1` 位同学。

第一步一定要先分析有没有需要特判的数据。题目给出的数据范围说明 :math:`N` 有可能为1，这种情况下方阵只有C君一个人，所以可以特判掉，直接输出0，结束。

正常情况下，:math:`N\gt1`。先排除一些特殊的视线。从原点出发的水平线和垂直线是最特殊的，显然在这两条直线上，C君只能看到两位同学 :math:`(1,0)` 和 :math:`(0,1)`，其他的都可以排除掉。这样就知道了C君应看到的人数至少有2人。要考虑的方阵缩小为从 :math:`(1,1)` 到 :math:`(n-1,n-1)` 的范围。

然后是左起第二列和倒数第二行，

从C君所在位置看去，在同一条视线上的学生只能看到第一个。视线是一条直线，从原点出发的直线可以用方程 :math:`y=kx` 来表示出来，这里 :math:`x` 和 :math:`y` 都必须是整数。


（待续）