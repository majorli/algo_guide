经典递归问题：Hanoi塔游戏
++++++++++++++++++++++++++++++++++++

法国数学家爱德华·卢卡斯曾编写过一个印度的古老传说：在世界中心贝拿勒斯（在印度北部）的圣庙里，一块黄铜板上插着三根宝石针。印度教的主神梵天在创造世界的时候，在其中一根针上从下到上地穿好了由大到小的64片金片，这就是所谓的Hanoi塔（汉诺塔）。不论白天黑夜，总有一个僧侣在按照下面的法则移动这些金片：一次只移动一片，不管在哪根针上，小片必须在大片的上面。僧侣们预言，当所有的金片都从梵天穿好的那根针上移到另外一根针上时，世界就将在一声霹雳中消灭，而梵塔、庙宇和众生也都将同归于尽。下面就是一个根据这个传说制作的层数较少的Hanoi塔玩具：

.. image:: ../../images/242_hanoi.jpg

为什么制作玩具的时候塔的层数总是要减少，而不是沿用传说中的64层呢？我们可以计算一下64片金片的完整Hanoi塔如果按规则完成了移动，最少需要多少次移动。这里需要用到递归方法来求解。

设 :math:`T(n)` 为完成一次 :math:`n` 层Hanoi塔最少需要移动的次数。

显然当 :math:`n=1` 时，只要直接把这片金片移动过去就可以了，所以 :math:`T(1)=1`。

当 :math:`n=2` 时，搬移的方法也很简单，先把上面的小金片移动到

假设有n片，移动次数是f(n).显然f(1)=1,f(2)=3,f(3)=7，且f(k+1)=2*f(k)+1。此后不难证明f(n)=2^n-1。n=64时，
假如每秒钟一次，共需多长时间呢？一个平年365天有31536000 秒，闰年366天有31622400秒，平均每年31557600秒，计算一下：
18446744073709511615秒
这表明移完这些金片需要5845.42亿年以上，而地球存在至今不过45亿年，太阳系的预期寿命据说也就是数百亿年。真的过了5845.42亿年，不说太阳系和银河系，至少地球上的一切生命，连同梵塔、庙宇等，都早已经灰飞烟灭。